/* rxjs@7.8.0 */
System.register([],(function(e){"use strict";return{execute:function(){function t(e){return"function"==typeof e}function n(e){const t=e((e=>{Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}e({$:function(e){return e?function(e){return new C((t=>e.schedule((()=>t.complete()))))}(e):me},D:k,E:f,F:I,G:function(e){return!!e&&(e instanceof C||t(e.lift)&&t(e.subscribe))},H:function(e,t){const n="object"==typeof t;return new Promise(((r,s)=>{let o,i=!1;e.subscribe({next:e=>{o=e,i=!0},error:s,complete:()=>{i?r(o):n?r(t.defaultValue):s(new Ge)}})}))},I:function(e,t){const n="object"==typeof t;return new Promise(((r,s)=>{const o=new S({next:e=>{r(e),o.unsubscribe()},error:s,complete:()=>{n?r(t.defaultValue):s(new Ge)}});e.subscribe(o)}))},Q:function(e,t,n){return ct(!1,e,t,n)},W:function(e,t,n){return ct(!0,e,t,n)},X:bt,Y:gt,Z:function(e,t=St){let n=null;const{connector:r,resetOnDisconnect:s=!0}=t;let o=r();const i=new C((e=>o.subscribe(e)));return i.connect=()=>(n&&!n.closed||(n=_t((()=>e)).subscribe(o),s&&n.add((()=>o=r()))),n),i},_:_t,a:function(e,t){for(let n=0,r=t.length;n<r;n++){const r=t[n],s=Object.getOwnPropertyNames(r.prototype);for(let t=0,n=s.length;t<n;t++){const n=s[t];e.prototype[n]=r.prototype[n]}}},a$:function(){return F(((e,t)=>{e.subscribe(q(t,(()=>{t.next(!1),t.complete()}),(()=>{t.next(!0),t.complete()})))}))},a0:function(...e){const t=ye(e),{args:n,keys:r}=ft(e),s=new C((e=>{const{length:t}=n;if(!t)return void e.complete();const s=new Array(t);let o=t,i=t;for(let c=0;c<t;c++){let t=!1;Le(n[c]).subscribe(q(e,(e=>{t||(t=!0,i--),s[c]=e}),(()=>o--),void 0,(()=>{o&&t||(i||e.next(r?dt(r,s):s),e.complete())})))}}));return t?s.pipe(it(t)):s},a1:Ve,a2:function e(n,r,s,o){t(s)&&(o=s,s=void 0);if(o)return e(n,r,s).pipe(it(o));const[i,c]=function(e){return t(e.addEventListener)&&t(e.removeEventListener)}(n)?Ot.map((e=>t=>n[e](r,t,s))):function(e){return t(e.addListener)&&t(e.removeListener)}(n)?Et.map(At(n,r)):function(e){return t(e.on)&&t(e.off)}(n)?Tt.map(At(n,r)):[];if(!i&&Ae(n))return wt((t=>e(t,r,s)))(Le(n));if(!i)throw new TypeError("Invalid event target");return new C((e=>{const t=(...t)=>e.next(1<t.length?t:t[0]);return i(t),()=>c(t)}))},a3:function e(n,r,s){if(s)return e(n,r).pipe(it(s));return new C((e=>{const s=(...t)=>e.next(1===t.length?t[0]:t),o=n(s);return t(r)?()=>r(s,o):void 0}))},a4:function(e,t,n,r,s){let o,i;1===arguments.length?({initialState:i,condition:t,iterate:n,resultSelector:o=I,scheduler:s}=e):(i=e,!r||ve(r)?(o=I,s=r):o=r);function*c(){for(let e=i;!t||t(e);e=n(e))yield o(e)}return _t(s?()=>He(c(),s):c)},a5:function(e,t,n){return _t((()=>e()?t:n))},a6:kt,a7:function(...e){const t=xe(e),n=ge(e,1/0),r=e;return r.length?1===r.length?Le(r[0]):yt(n)(Ve(r,t)):me},a8:function(){return jt},a9:$e,aA:function(e,n){return t(n)?Bt((()=>e),n):Bt((()=>e))},aB:function(...e){return Xt(...e)},aC:Jt,aD:function(e){return Dt(((t,n,r)=>!e||e(n,r)?t+1:t),0)},aE:function(e){return F(((t,n)=>{let r=!1,s=null,o=null;const i=()=>{if(null==o||o.unsubscribe(),o=null,r){r=!1;const e=s;s=null,n.next(e)}};t.subscribe(q(n,(t=>{null==o||o.unsubscribe(),r=!0,s=t,o=q(n,i,f),Le(e(t)).subscribe(o)}),(()=>{i(),n.complete()}),void 0,(()=>{s=o=null})))}))},aF:function(e,t=ae){return F(((n,r)=>{let s=null,o=null,i=null;const c=()=>{if(s){s.unsubscribe(),s=null;const e=o;o=null,r.next(e)}};function u(){const n=i+e,o=t.now();if(o<n)return s=this.schedule(void 0,n-o),void r.add(s);c()}n.subscribe(q(r,(n=>{o=n,i=t.now(),s||(s=t.schedule(u,e),r.add(s))}),(()=>{c(),r.complete()}),void 0,(()=>{o=s=null})))}))},aG:Gt,aH:function(e,t=ae){const n=It(e,t);return en((()=>n))},aI:en,aJ:function(){return F(((e,t)=>{e.subscribe(q(t,(e=>Je(e,t))))}))},aK:function(e,t){return F(((n,r)=>{const s=new Set;n.subscribe(q(r,(t=>{const n=e?e(t):t;s.has(n)||(s.add(n),r.next(t))}))),t&&Le(t).subscribe(q(r,(()=>s.clear()),f))}))},aL:tn,aM:function(e,t){return tn(((n,r)=>t?t(n[e],r[e]):n[e]===r[e]))},aN:function(e,t){if(e<0)throw new Ze;const n=arguments.length>=2;return r=>r.pipe(qt(((t,n)=>n===e)),Zt(1),n?Gt(t):rn((()=>new Ze)))},aO:function(...e){return t=>gt(t,$e(...e))},aP:function(e,t){return F(((n,r)=>{let s=0;n.subscribe(q(r,(o=>{e.call(t,o,s++,n)||(r.next(!1),r.complete())}),(()=>{r.next(!0),r.complete()})))}))},aR:cn,aS:on,aT:function(e,t=1/0,n){return t=(t||0)<1?1/0:t,F(((r,s)=>vt(r,s,e,t,void 0,!0,n)))},aU:qt,aV:function(e){return F(((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}}))},aW:function(e,t){return F(un(e,t,"value"))},aX:function(e,t){return F(un(e,t,"index"))},aY:function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?qt(((t,n)=>e(t,n,r))):I,Zt(1),n?Gt(t):rn((()=>new Ge)))},aZ:function(e,t,n,r){return F(((s,o)=>{let i;t&&"function"!=typeof t?({duration:n,element:i,connector:r}=t):i=t;const c=new Map,u=e=>{c.forEach(e),e(o)},l=e=>u((t=>t.error(e)));let a=0,h=!1;const f=new L(o,(t=>{try{const s=e(t);let u=c.get(s);if(!u){c.set(s,u=r?r():new V);const e=function(e,t){const n=new C((e=>{a++;const n=t.subscribe(e);return()=>{n.unsubscribe(),0==--a&&h&&f.unsubscribe()}}));return n.key=e,n}(s,u);if(o.next(e),n){const t=q(u,(()=>{u.complete(),null==t||t.unsubscribe()}),void 0,void 0,(()=>c.delete(s)));f.add(Le(n(e)).subscribe(t))}}u.next(i?i(t):t)}catch(e){l(e)}}),(()=>u((e=>e.complete()))),l,(()=>c.clear()),(()=>(h=!0,0===a)));s.subscribe(f)}))},a_:Kt,aa:Nt,ab:function(e,t){return Ve(Object.entries(e),t)},ac:function(e,t,n){return[qt(t,n)(Le(e)),qt(Ft(t,n))(Le(e))]},ad:function(...e){return 1===(e=Pt(e)).length?Le(e[0]):new C(Lt(e))},ae:function(e,t,n){null==t&&(t=e,e=0);if(t<=0)return me;const r=t+e;return new C(n?t=>{let s=e;return n.schedule((function(){s<r?(t.next(s++),this.schedule()):t.complete()}))}:t=>{let n=e;for(;n<r&&!t.closed;)t.next(n++);t.complete()})},af:Be,ag:It,ah:function(e,t){return new C((n=>{const r=e(),s=t(r);return(s?Le(s):me).subscribe(n),()=>{r&&r.unsubscribe()}}))},ai:Rt,aj:Me,an:zt,ao:function(e,t=ae){return zt((()=>It(e,t)))},ap:function(e){return F(((t,n)=>{let r=[];return t.subscribe(q(n,(e=>r.push(e)),(()=>{n.next(r),n.complete()}))),Le(e).subscribe(q(n,(()=>{const e=r;r=[],n.next(e)}),f)),()=>{r=null}}))},aq:function(e,t=null){return t=null!=t?t:e,F(((n,r)=>{let o=[],i=0;n.subscribe(q(r,(n=>{let c=null;i++%t==0&&o.push([]);for(const t of o)t.push(n),e<=t.length&&(c=null!=c?c:[],c.push(t));if(c)for(const e of c)s(o,e),r.next(e)}),(()=>{for(const e of o)r.next(e);r.complete()}),void 0,(()=>{o=null})))}))},ar:function(e,...t){var n,r;const i=null!==(n=xe(t))&&void 0!==n?n:ae,c=null!==(r=t[0])&&void 0!==r?r:null,u=t[1]||1/0;return F(((t,n)=>{let r=[],l=!1;const a=e=>{const{buffer:t,subs:o}=e;o.unsubscribe(),s(r,e),n.next(t),l&&h()},h=()=>{if(r){const t=new o;n.add(t);const s={buffer:[],subs:t};r.push(s),ze(t,i,(()=>a(s)),e)}};null!==c&&c>=0?ze(n,i,h,c,!0):l=!0,h();const f=q(n,(e=>{const t=r.slice();for(const n of t){const{buffer:t}=n;t.push(e),u<=t.length&&a(n)}}),(()=>{for(;null==r?void 0:r.length;)n.next(r.shift().buffer);null==f||f.unsubscribe(),n.complete(),n.unsubscribe()}),void 0,(()=>r=null));t.subscribe(f)}))},as:function(e,t){return F(((n,r)=>{const i=[];Le(e).subscribe(q(r,(e=>{const n=[];i.push(n);const c=new o;c.add(Le(t(e)).subscribe(q(r,(()=>{s(i,n),r.next(n),c.unsubscribe()}),f)))}),f)),n.subscribe(q(r,(e=>{for(const t of i)t.push(e)}),(()=>{for(;i.length>0;)r.next(i.shift());r.complete()})))}))},at:function(e){return F(((t,n)=>{let r=null,s=null;const o=()=>{null==s||s.unsubscribe();const t=r;r=[],t&&n.next(t),Le(e()).subscribe(s=q(n,o,f))};o(),t.subscribe(q(n,(e=>null==r?void 0:r.push(e)),(()=>{r&&n.next(r),n.complete()}),void 0,(()=>r=s=null)))}))},au:function e(t){return F(((n,r)=>{let s,o=null,i=!1;o=n.subscribe(q(r,void 0,void 0,(c=>{s=Le(t(c,e(t)(n))),o?(o.unsubscribe(),o=null,s.subscribe(r)):i=!0}))),i&&(o.unsubscribe(),o=null,s.subscribe(r))}))},aw:Vt,ax:function(...e){return $t(...e)},ay:xt,az:Bt,b$:function(...e){const t=ye(e);return F(((n,r)=>{const s=e.length,o=new Array(s);let i=e.map((()=>!1)),c=!1;for(let t=0;t<s;t++)Le(e[t]).subscribe(q(r,(e=>{o[t]=e,c||i[t]||(i[t]=!0,(c=i.every(I))&&(i=null))}),f));n.subscribe(q(r,(e=>{if(c){const n=[e,...o];r.next(t?t(...n):n)}})))}))},b0:function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?qt(((t,n)=>e(t,n,r))):I,ln(1),n?Gt(t):rn((()=>new Ge)))},b1:st,b2:Qt,b3:function(){return F(((e,t)=>{e.subscribe(q(t,(e=>{t.next(Ye.createNext(e))}),(()=>{t.next(Ye.createComplete()),t.complete()}),(e=>{t.next(Ye.createError(e)),t.complete()})))}))},b4:function(e){return Dt(t(e)?(t,n)=>e(t,n)>0?t:n:(e,t)=>e>t?e:t)},b5:yt,b7:wt,b8:function(e,n,r=1/0){if(t(n))return wt((()=>e),n,r);"number"==typeof n&&(r=n);return wt((()=>e),r)},b9:function(e,t,n=1/0){return F(((r,s)=>{let o=t;return vt(r,s,((t,n)=>e(o,t,n)),n,(e=>{o=e}),!1,void 0,(()=>o=null))}))},bA:function(e){return e<=0?I:F(((t,n)=>{let r=new Array(e),s=0;return t.subscribe(q(n,(t=>{const o=s++;if(o<e)r[o]=t;else{const s=o%e,i=r[s];r[s]=t,n.next(i)}}))),()=>{r=null}}))},bB:function(e){return F(((t,n)=>{let r=!1;const s=q(n,(()=>{null==s||s.unsubscribe(),r=!0}),f);Le(e).subscribe(s),t.subscribe(q(n,(e=>r&&n.next(e))))}))},bC:function(e){return F(((t,n)=>{let r=!1,s=0;t.subscribe(q(n,(t=>(r||(r=!e(t,s++)))&&n.next(t))))}))},bD:function(...e){const t=xe(e);return F(((n,r)=>{(t?gt(e,n,t):gt(e,n)).subscribe(r)}))},bE:De,bF:function(){return vn(I)},bG:vn,bH:function(e,n){return t(n)?vn((()=>e),n):vn((()=>e))},bI:function(e,t){return F(((n,r)=>{let s=t;return vn(((t,n)=>e(s,t,n)),((e,t)=>(s=t,t)))(n).subscribe(r),()=>{s=null}}))},bJ:Zt,bK:ln,bL:function(e){return F(((t,n)=>{Le(e).subscribe(q(n,(()=>n.complete()),f)),!n.closed&&t.subscribe(n)}))},bM:function(e,t=!1){return F(((n,r)=>{let s=0;n.subscribe(q(r,(n=>{const o=e(n,s++);(o||t)&&r.next(n),!o&&r.complete()})))}))},bN:function(e,n,r){const s=t(e)||n||r?{next:e,error:n,complete:r}:e;return s?F(((e,t)=>{var n;null===(n=s.subscribe)||void 0===n||n.call(s);let r=!0;e.subscribe(q(t,(e=>{var n;null===(n=s.next)||void 0===n||n.call(s,e),t.next(e)}),(()=>{var e;r=!1,null===(e=s.complete)||void 0===e||e.call(s),t.complete()}),(e=>{var n;r=!1,null===(n=s.error)||void 0===n||n.call(s,e),t.error(e)}),(()=>{var e,t;r&&(null===(e=s.unsubscribe)||void 0===e||e.call(s)),null===(t=s.finalize)||void 0===t||t.call(s)})))})):I},bO:yn,bP:function(e,t=ae,n=wn){const r=It(e,t);return yn((()=>r),n)},bQ:rn,bR:function(e=ae){return F(((t,n)=>{let r=e.now();t.subscribe(q(n,(t=>{const s=e.now(),o=s-r;r=s,n.next(new xn(t,o))})))}))},bS:nt,bT:function(e,t,n){let r,s,o;n=null!=n?n:he,et(e)?r=e:"number"==typeof e&&(s=e);if(!t)throw new TypeError("No observable provided to switch to");o=()=>t;if(null==r&&null==s)throw new TypeError("No timeout provided.");return nt({first:r,each:s,scheduler:n,with:o})},bU:function(e=X){return st((t=>({value:t,timestamp:e.now()})))},bV:Wt,bW:function(e){return F(((t,n)=>{let r=new V;n.next(r.asObservable());const s=e=>{r.error(e),n.error(e)};return t.subscribe(q(n,(e=>null==r?void 0:r.next(e)),(()=>{r.complete(),n.complete()}),s)),Le(e).subscribe(q(n,(()=>{r.complete(),n.next(r=new V)}),f,s)),()=>{null==r||r.unsubscribe(),r=null}}))},bX:function(e,t=0){const n=t>0?t:e;return F(((t,r)=>{let s=[new V],o=[],i=0;r.next(s[0].asObservable()),t.subscribe(q(r,(t=>{for(const e of s)e.next(t);const o=i-e+1;if(o>=0&&o%n==0&&s.shift().complete(),++i%n==0){const e=new V;s.push(e),r.next(e.asObservable())}}),(()=>{for(;s.length>0;)s.shift().complete();r.complete()}),(e=>{for(;s.length>0;)s.shift().error(e);r.error(e)}),(()=>{o=null,s=null})))}))},bY:function(e,...t){var n,r;const i=null!==(n=xe(t))&&void 0!==n?n:ae,c=null!==(r=t[0])&&void 0!==r?r:null,u=t[1]||1/0;return F(((t,n)=>{let r=[],l=!1;const a=e=>{const{window:t,subs:n}=e;t.complete(),n.unsubscribe(),s(r,e),l&&h()},h=()=>{if(r){const t=new o;n.add(t);const s=new V,c={window:s,subs:t,seen:0};r.push(c),n.next(s.asObservable()),ze(t,i,(()=>a(c)),e)}};null!==c&&c>=0?ze(n,i,h,c,!0):l=!0,h();const f=e=>r.slice().forEach(e),d=e=>{f((({window:t})=>e(t))),e(n),n.unsubscribe()};return t.subscribe(q(n,(e=>{f((t=>{t.window.next(e),u<=++t.seen&&a(t)}))}),(()=>d((e=>e.complete()))),(e=>d((t=>t.error(e)))))),()=>{r=null}}))},bZ:function(e,t){return F(((n,r)=>{const i=[],c=e=>{for(;0<i.length;)i.shift().error(e);r.error(e)};Le(e).subscribe(q(r,(e=>{const n=new V;i.push(n);const u=new o;let l;try{l=Le(t(e))}catch(e){return void c(e)}r.next(n.asObservable()),u.add(l.subscribe(q(r,(()=>{s(i,n),n.complete(),u.unsubscribe()}),f,c)))}),f)),n.subscribe(q(r,(e=>{const t=i.slice();for(const n of t)n.next(e)}),(()=>{for(;0<i.length;)i.shift().complete();r.complete()}),c,(()=>{for(;0<i.length;)i.shift().unsubscribe()})))}))},b_:function(e){return F(((t,n)=>{let r,s;const o=e=>{r.error(e),n.error(e)},i=()=>{let t;null==s||s.unsubscribe(),null==r||r.complete(),r=new V,n.next(r.asObservable());try{t=Le(e())}catch(e){return void o(e)}t.subscribe(s=q(n,i,i,o))};i(),t.subscribe(q(n,(e=>r.next(e)),(()=>{r.complete(),n.complete()}),o,(()=>{null==s||s.unsubscribe(),r=null})))}))},ba:function(...e){return an(...e)},bb:function(e){return Dt(t(e)?(t,n)=>e(t,n)<0?t:n:(e,t)=>e<t?e:t)},bc:hn,bd:Ue,be:fn,bf:function(){return F(((e,t)=>{let n,r=!1;e.subscribe(q(t,(e=>{const s=n;n=e,r&&t.next([s,e]),r=!0})))}))},bg:function(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return st((n=>{let r=n;for(let n=0;n<t;n++){const t=null==r?void 0:r[e[n]];if(void 0===t)return;r=t}return r}))},bh:function(e){return e?t=>Jt(e)(t):e=>hn(new V)(e)},bi:function(e){return t=>{const n=new B(e);return new z(t,(()=>n))}},bj:function(){return e=>{const t=new J;return new z(e,(()=>t))}},bk:function(e,n,r,s){r&&!t(r)&&(s=r);const o=t(r)?r:void 0;return t=>hn(new Y(e,n,s),o)(t)},bl:dn,bm:Dt,bn:function(e){let t,n=1/0;null!=e&&("object"==typeof e?({count:n=1/0,delay:t}=e):n=e);return n<=0?()=>me:F(((e,r)=>{let s,o=0;const i=()=>{if(null==s||s.unsubscribe(),s=null,null!=t){const e="number"==typeof t?It(t):Le(t(o)),n=q(r,(()=>{n.unsubscribe(),c()}));e.subscribe(n)}else c()},c=()=>{let t=!1;s=e.subscribe(q(r,void 0,(()=>{++o<n?s?i():t=!0:r.complete()}))),t&&i()};c()}))},bo:function(e){return F(((t,n)=>{let r,s,o=!1,i=!1,c=!1;const u=()=>c&&i&&(n.complete(),!0),l=()=>{c=!1,r=t.subscribe(q(n,void 0,(()=>{c=!0,!u()&&(s||(s=new V,Le(e(s)).subscribe(q(n,(()=>{r?l():o=!0}),(()=>{i=!0,u()})))),s).next()}))),o&&(r.unsubscribe(),r=null,o=!1,l())};l()}))},bp:function(e=1/0){let t;t=e&&"object"==typeof e?e:{count:e};const{count:n=1/0,delay:r,resetOnSuccess:s=!1}=t;return n<=0?I:F(((e,t)=>{let o,i=0;const c=()=>{let u=!1;o=e.subscribe(q(t,(e=>{s&&(i=0),t.next(e)}),void 0,(e=>{if(i++<n){const n=()=>{o?(o.unsubscribe(),o=null,c()):u=!0};if(null!=r){const s="number"==typeof r?It(r):Le(r(e,i)),o=q(t,(()=>{o.unsubscribe(),n()}),(()=>{t.complete()}));s.subscribe(o)}else n()}else t.error(e)}))),u&&(o.unsubscribe(),o=null,c())};c()}))},bq:function(e){return F(((t,n)=>{let r,s,o=!1;const i=()=>{r=t.subscribe(q(n,void 0,void 0,(t=>{s||(s=new V,Le(e(s)).subscribe(q(n,(()=>r?i():o=!0)))),s&&s.next(t)}))),o&&(r.unsubscribe(),r=null,o=!1,i())};i()}))},br:R,bs:bn,bt:function(e,t=ae){return bn(kt(e,t))},bu:function(e,t){return F(Ut(e,t,arguments.length>=2,!0))},bv:function(e,t=((e,t)=>e===t)){return F(((n,r)=>{const s={buffer:[],complete:!1},o={buffer:[],complete:!1},i=e=>{r.next(e),r.complete()},c=(e,n)=>{const s=q(r,(r=>{const{buffer:s,complete:o}=n;0===s.length?o?i(!1):e.buffer.push(r):!t(r,s.shift())&&i(!1)}),(()=>{e.complete=!0;const{complete:t,buffer:r}=n;t&&i(0===r.length),null==s||s.unsubscribe()}));return s};n.subscribe(c(s,o)),Le(e).subscribe(c(o,s))}))},bw:pn,bx:function(e,t,n){let r,s=!1;e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:s=!1,scheduler:n}=e):r=null!=e?e:1/0;return pn({connector:()=>new Y(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})},by:function(e){return F(((t,n)=>{let r,s=!1,o=!1,i=0;t.subscribe(q(n,(c=>{o=!0,e&&!e(c,i++,t)||(s&&n.error(new Qe("Too many matching values")),s=!0,r=c)}),(()=>{s?(n.next(r),n.complete()):n.error(o?new Ke("No matching values"):new Ge)})))}))},bz:function(e){return qt(((t,n)=>e<=n))},c0:function(e){return Mt(Rt,e)},c1:function(...e){return gn(...e)},c2:$t,c3:Xt,c4:an,c6:function(e,t){return n=>[qt(e,t)(n),qt(Ft(e,t))(n)]},c7:function(...e){return dn(...Pt(e))},c8:gn,cd:function(e,t={}){const{selector:n}=t,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}(t,["selector"]);return new C((t=>{const s=new AbortController,{signal:o}=s;let i=!0;const{signal:c}=r;if(c)if(c.aborted)s.abort();else{const e=()=>{o.aborted||s.abort()};c.addEventListener("abort",e),t.add((()=>c.removeEventListener("abort",e)))}const u=Object.assign(Object.assign({},r),{signal:o}),l=e=>{i=!1,t.error(e)};return fetch(e,u).then((e=>{n?Le(n(e)).subscribe(q(t,void 0,(()=>{i=!1,t.complete()}),l)):(i=!1,t.next(e),t.complete())})).catch(l),()=>{i&&s.abort()}}))},ce:function(e){return new Wn(e)},e:b,k:function(e){return e?H(e):W},n:p,o:Je});const r=e("U",n((e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map(((e,t)=>`${t+1}) ${e.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t})));function s(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class o{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const e of n)e.remove(this);else n.remove(this);const{initialTeardown:s}=this;if(t(s))try{s()}catch(t){e=t instanceof r?t.errors:[t]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const t of o)try{u(t)}catch(t){e=null!=e?e:[],t instanceof r?e=[...e,...t.errors]:e.push(t)}}if(e)throw new r(e)}}add(e){var t;if(e&&e!==this)if(this.closed)u(e);else{if(e instanceof o){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&s(t,e)}remove(e){const{_finalizers:t}=this;t&&s(t,e),e instanceof o&&e._removeParent(this)}}e("S",o),o.EMPTY=(()=>{const e=new o;return e.closed=!0,e})();const i=o.EMPTY;function c(e){return e instanceof o||e&&"closed"in e&&t(e.remove)&&t(e.add)&&t(e.unsubscribe)}function u(e){t(e)?e():e.unsubscribe()}const l=e("am",{onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}),a=e("t",{setTimeout(e,t,...n){const{delegate:r}=a;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=a;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0});function h(e){a.setTimeout((()=>{const{onUnhandledError:t}=l;if(!t)throw e;t(e)}))}function f(){}const d=e("C",m("C",void 0,void 0));function b(e){return m("E",void 0,e)}function p(e){return m("N",e,void 0)}function m(e,t,n){return{kind:e,value:t,error:n}}let v=null;function w(e){if(l.useDeprecatedSynchronousErrorHandling){const t=!v;if(t&&(v={errorThrown:!1,error:null}),e(),t){const{errorThrown:e,error:t}=v;if(v=null,e)throw t}}else e()}class y extends o{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,c(e)&&e.add(this)):this.destination=T}static create(e,t,n){return new S(e,t,n)}next(e){this.isStopped?O(p(e),this):this._next(e)}error(e){this.isStopped?O(b(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?O(d,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}e("y",y);const x=Function.prototype.bind;function g(e,t){return x.call(e,t)}class _{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(e){E(e)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(e){E(e)}else E(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(e){E(e)}}}class S extends y{constructor(e,n,r){let s;if(super(),t(e)||!e)s={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let t;this&&l.useDeprecatedNextContext?(t=Object.create(e),t.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&g(e.next,t),error:e.error&&g(e.error,t),complete:e.complete&&g(e.complete,t)}):s=e}this.destination=new _(s)}}function E(e){var t;l.useDeprecatedSynchronousErrorHandling?(t=e,l.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=t)):h(e)}function O(e,t){const{onStoppedNotification:n}=l;n&&a.setTimeout((()=>n(e,t)))}const T={closed:!0,next:f,error:function(e){throw e},complete:f},A=e("j","function"==typeof Symbol&&Symbol.observable||"@@observable");function I(e){return e}function k(...e){return j(e)}function j(e){return 0===e.length?I:1===e.length?e[0]:function(t){return e.reduce(((e,t)=>t(e)),t)}}class C{constructor(e){e&&(this._subscribe=e)}lift(e){const t=new C;return t.source=this,t.operator=e,t}subscribe(e,n,r){const s=(o=e)&&o instanceof y||function(e){return e&&t(e.next)&&t(e.error)&&t(e.complete)}(o)&&c(o)?e:new S(e,n,r);var o;return w((()=>{const{operator:e,source:t}=this;s.add(e?e.call(s,t):t?this._subscribe(s):this._trySubscribe(s))})),s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=P(t))(((t,n)=>{const r=new S({next:t=>{try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});this.subscribe(r)}))}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[A](){return this}pipe(...e){return j(e)(this)}toPromise(e){return new(e=P(e))(((e,t)=>{let n;this.subscribe((e=>n=e),(e=>t(e)),(()=>e(n)))}))}}function P(e){var t;return null!==(t=null!=e?e:l.Promise)&&void 0!==t?t:Promise}function N(e){return t(null==e?void 0:e.lift)}function F(e){return t=>{if(N(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function q(e,t,n,r,s){return new L(e,t,n,r,s)}e("O",C),C.create=e=>new C(e);class L extends y{constructor(e,t,n,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(n){try{t(n)}catch(t){e.error(t)}}:super._next,this._error=r?function(t){try{r(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function R(){return F(((e,t)=>{let n=null;e._refCount++;const r=q(t,void 0,void 0,void 0,(()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,s=n;n=null,!r||s&&r!==s||r.unsubscribe(),t.unsubscribe()}));e.subscribe(r),r.closed||(n=e.connect())}))}class z extends C{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,N(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new o;const t=this.getSubject();e.add(this.source.subscribe(q(t,void 0,(()=>{this._teardown(),t.complete()}),(e=>{this._teardown(),t.error(e)}),(()=>this._teardown())))),e.closed&&(this._connection=null,e=o.EMPTY)}return e}refCount(){return R()(this)}}e("h",z);const U=e("p",{now:()=>(U.delegate||performance).now(),delegate:void 0}),D=e("d",{schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=D;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const s=t((t=>{n=void 0,e(t)}));return new o((()=>null==n?void 0:n(s)))},requestAnimationFrame(...e){const{delegate:t}=D;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=D;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...e)},delegate:void 0});function H(e){return new C((t=>{const n=e||U,r=n.now();let s=0;const o=()=>{t.closed||(s=D.requestAnimationFrame((i=>{s=0;const c=n.now();t.next({timestamp:e?c:i,elapsed:c-r}),o()})))};return o(),()=>{s&&D.cancelAnimationFrame(s)}}))}const W=H(),M=e("M",n((e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})));class V extends C{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new $(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new M}next(e){w((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const t of this.currentObservers)t.next(e)}}))}error(e){w((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}}))}complete(){w((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:n,observers:r}=this;return t||n?i:(this.currentObservers=null,r.push(e),new o((()=>{this.currentObservers=null,s(r,e)})))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:n,isStopped:r}=this;t?e.error(n):r&&e.complete()}asObservable(){const e=new C;return e.source=this,e}}e("b",V),V.create=(e,t)=>new $(e,t);class $ extends V{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:i}}class B extends V{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:n}=this;if(e)throw t;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}}e("B",B);const X=e("f",{now:()=>(X.delegate||Date).now(),delegate:void 0});class Y extends V{constructor(e=1/0,t=1/0,n=X){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(n.push(e),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let t=0;t<s.length&&!e.closed;t+=n?1:2)e.next(s[t]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<n.length&&n.splice(0,n.length-s),!r){const e=t.now();let r=0;for(let t=1;t<n.length&&n[t]<=e;t+=2)r=t;r&&n.splice(0,r+1)}}}e("R",Y);class J extends V{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:n,_value:r,thrownError:s,isStopped:o,_isComplete:i}=this;t?e.error(s):(o||i)&&(n&&e.next(r),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:n}=this;n||(this._isComplete=!0,e&&super.next(t),super.complete())}}e("A",J);class G extends o{constructor(e,t){super()}schedule(e,t=0){return this}}const Z=e("g",{setInterval(e,t,...n){const{delegate:r}=Z;return(null==r?void 0:r.setInterval)?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Z;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0});class K extends G{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,n=0){return Z.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&Z.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,s(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}let Q,ee=1;const te={};function ne(e){return e in te&&(delete te[e],!0)}const re={setImmediate(e){const t=ee++;return te[t]=!0,Q||(Q=Promise.resolve()),Q.then((()=>ne(t)&&e())),t},clearImmediate(e){ne(e)}},{setImmediate:se,clearImmediate:oe}=re,ie=e("i",{setImmediate(...e){const{delegate:t}=ie;return((null==t?void 0:t.setImmediate)||se)(...e)},clearImmediate(e){const{delegate:t}=ie;return((null==t?void 0:t.clearImmediate)||oe)(e)},delegate:void 0});class ce{constructor(e,t=ce.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}e("x",ce),ce.now=X.now;class ue extends ce{constructor(e,t=ce.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const le=e("m",new class extends ue{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends K{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=ie.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(ie.clearImmediate(t),e._scheduled=void 0)}})),ae=(e("l",le),e("r",new ue(K))),he=e("q",ae);const fe=e("u",new class extends ue{}(class extends K{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(e,t,n):(e.flush(this),0)}}));e("s",fe);const de=e("w",new class extends ue{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends K{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=D.requestAnimationFrame((()=>e.flush(void 0)))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(D.cancelAnimationFrame(t),e._scheduled=void 0)}}));e("v",de);class be extends ue{constructor(e=pe,t=1/0){super(e,(()=>this.frame)),this.maxFrames=t,this.frame=0,this.index=-1}flush(){const{actions:e,maxFrames:t}=this;let n,r;for(;(r=e[0])&&r.delay<=t&&(e.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=e.shift();)r.unsubscribe();throw n}}}e("V",be),be.frameTimeFactor=10;class pe extends K{constructor(e,t,n=(e.index+=1)){super(e,t),this.scheduler=e,this.work=t,this.index=n,this.active=!0,this.index=e.index=n}schedule(e,t=0){if(Number.isFinite(t)){if(!this.id)return super.schedule(e,t);this.active=!1;const n=new pe(this.scheduler,this.work);return this.add(n),n.schedule(e,t)}return o.EMPTY}requestAsyncId(e,t,n=0){this.delay=e.frame+n;const{actions:r}=e;return r.push(this),r.sort(pe.sortActions),1}recycleAsyncId(e,t,n=0){}_execute(e,t){if(!0===this.active)return super._execute(e,t)}static sortActions(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1}}e("c",pe);const me=e("ak",new C((e=>e.complete())));function ve(e){return e&&t(e.schedule)}function we(e){return e[e.length-1]}function ye(e){return t(we(e))?e.pop():void 0}function xe(e){return ve(we(e))?e.pop():void 0}function ge(e,t){return"number"==typeof we(e)?e.pop():t}function _e(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function c(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))}function Se(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ee(e){return this instanceof Ee?(this.v=e,this):new Ee(e)}function Oe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),o=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||c(e,t)}))})}function c(e,t){try{(n=s[e](t)).value instanceof Ee?Promise.resolve(n.value.v).then(u,l):a(o[0][2],n)}catch(e){a(o[0][3],e)}var n}function u(e){c("next",e)}function l(e){c("throw",e)}function a(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Te(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Se(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,s,(t=e[n](t)).done,t.value)}))}}}const Ae=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ie(e){return t(null==e?void 0:e.then)}function ke(e){return t(e[A])}function je(e){return Symbol.asyncIterator&&t(null==e?void 0:e[Symbol.asyncIterator])}function Ce(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Pe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ne(e){return t(null==e?void 0:e[Pe])}function Fe(e){return Oe(this,arguments,(function*(){const t=e.getReader();try{for(;;){const{value:e,done:n}=yield Ee(t.read());if(n)return yield Ee(void 0);yield yield Ee(e)}}finally{t.releaseLock()}}))}function qe(e){return t(null==e?void 0:e.getReader)}function Le(e){if(e instanceof C)return e;if(null!=e){if(ke(e))return o=e,new C((e=>{const n=o[A]();if(t(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Ae(e))return s=e,new C((e=>{for(let t=0;t<s.length&&!e.closed;t++)e.next(s[t]);e.complete()}));if(Ie(e))return r=e,new C((e=>{r.then((t=>{e.closed||(e.next(t),e.complete())}),(t=>e.error(t))).then(null,h)}));if(je(e))return Re(e);if(Ne(e))return n=e,new C((e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()}));if(qe(e))return Re(Fe(e))}var n,r,s,o;throw Ce(e)}function Re(e){return new C((t=>{(function(e,t){var n,r,s,o;return _e(this,void 0,void 0,(function*(){try{for(n=Te(e);!(r=yield n.next()).done;){const e=r.value;if(t.next(e),t.closed)return}}catch(e){s={error:e}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(s)throw s.error}}t.complete()}))})(e,t).catch((e=>t.error(e)))}))}function ze(e,t,n,r=0,s=!1){const o=t.schedule((function(){n(),s?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!s)return o}function Ue(e,t=0){return F(((n,r)=>{n.subscribe(q(r,(n=>ze(r,e,(()=>r.next(n)),t)),(()=>ze(r,e,(()=>r.complete()),t)),(n=>ze(r,e,(()=>r.error(n)),t))))}))}function De(e,t=0){return F(((n,r)=>{r.add(e.schedule((()=>n.subscribe(r)),t))}))}function He(e,n){return new C((r=>{let s;return ze(r,n,(()=>{s=e[Pe](),ze(r,n,(()=>{let e,t;try{({value:e,done:t}=s.next())}catch(e){return void r.error(e)}t?r.complete():r.next(e)}),0,!0)})),()=>t(null==s?void 0:s.return)&&s.return()}))}function We(e,t){if(!e)throw new Error("Iterable cannot be null");return new C((n=>{ze(n,t,(()=>{const r=e[Symbol.asyncIterator]();ze(n,t,(()=>{r.next().then((e=>{e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Me(e,t){if(null!=e){if(ke(e))return function(e,t){return Le(e).pipe(De(t),Ue(t))}(e,t);if(Ae(e))return function(e,t){return new C((n=>{let r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(Ie(e))return function(e,t){return Le(e).pipe(De(t),Ue(t))}(e,t);if(je(e))return We(e,t);if(Ne(e))return He(e,t);if(qe(e))return function(e,t){return We(Fe(e),t)}(e,t)}throw Ce(e)}function Ve(e,t){return t?Me(e,t):Le(e)}function $e(...e){return Ve(e,xe(e))}function Be(e,n){const r=t(e)?e:()=>e,s=e=>e.error(r());return new C(n?e=>n.schedule(s,0,e):s)}var Xe;e("z",Xe),function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(Xe||e("z",Xe={}));class Ye{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){return Je(this,e)}do(e,t,n){const{kind:r,value:s,error:o}=this;return"N"===r?null==e?void 0:e(s):"E"===r?null==t?void 0:t(o):null==n?void 0:n()}accept(e,n,r){var s;return t(null===(s=e)||void 0===s?void 0:s.next)?this.observe(e):this.do(e,n,r)}toObservable(){const{kind:e,value:t,error:n}=this,r="N"===e?$e(t):"E"===e?Be((()=>n)):"C"===e?me:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new Ye("N",e)}static createError(e){return new Ye("E",void 0,e)}static createComplete(){return Ye.completeNotification}}function Je(e,t){var n,r,s;const{kind:o,value:i,error:c}=e;if("string"!=typeof o)throw new TypeError('Invalid notification, missing "kind"');"N"===o?null===(n=t.next)||void 0===n||n.call(t,i):"E"===o?null===(r=t.error)||void 0===r||r.call(t,c):null===(s=t.complete)||void 0===s||s.call(t)}e("N",Ye),Ye.completeNotification=new Ye("C");const Ge=e("K",n((e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"})));const Ze=e("J",n((e=>function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}))),Ke=e("L",n((e=>function(t){e(this),this.name="NotFoundError",this.message=t}))),Qe=e("P",n((e=>function(t){e(this),this.name="SequenceError",this.message=t})));function et(e){return e instanceof Date&&!isNaN(e)}const tt=e("T",n((e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t})));function nt(e,t){const{first:n,each:r,with:s=rt,scheduler:o=(null!=t?t:ae),meta:i=null}=et(e)?{first:e}:"number"==typeof e?{each:e}:e;if(null==n&&null==r)throw new TypeError("No timeout provided.");return F(((e,t)=>{let c,u,l=null,a=0;const h=e=>{u=ze(t,o,(()=>{try{c.unsubscribe(),Le(s({meta:i,lastValue:l,seen:a})).subscribe(t)}catch(e){t.error(e)}}),e)};c=e.subscribe(q(t,(e=>{null==u||u.unsubscribe(),a++,t.next(l=e),r>0&&h(r)}),void 0,void 0,(()=>{(null==u?void 0:u.closed)||null==u||u.unsubscribe(),l=null}))),!a&&h(null!=n?"number"==typeof n?n:+n-o.now():r)}))}function rt(e){throw new tt(e)}function st(e,t){return F(((n,r)=>{let s=0;n.subscribe(q(r,(n=>{r.next(e.call(t,n,s++))})))}))}const{isArray:ot}=Array;function it(e){return st((t=>function(e,t){return ot(t)?e(...t):e(t)}(e,t)))}function ct(e,t,n,r){if(n){if(!ve(n))return function(...s){return ct(e,t,r).apply(this,s).pipe(it(n))};r=n}return r?function(...n){return ct(e,t).apply(this,n).pipe(De(r),Ue(r))}:function(...n){const r=new J;let s=!0;return new C((o=>{const i=r.subscribe(o);if(s){s=!1;let o=!1,i=!1;t.apply(this,[...n,(...t)=>{if(e){const e=t.shift();if(null!=e)return void r.error(e)}r.next(1<t.length?t:t[0]),i=!0,o&&r.complete()}]),i&&r.complete(),o=!0}return i}))}}const{isArray:ut}=Array,{getPrototypeOf:lt,prototype:at,keys:ht}=Object;function ft(e){if(1===e.length){const n=e[0];if(ut(n))return{args:n,keys:null};if((t=n)&&"object"==typeof t&&lt(t)===at){const e=ht(n);return{args:e.map((e=>n[e])),keys:e}}}var t;return{args:e,keys:null}}function dt(e,t){return e.reduce(((e,n,r)=>(e[n]=t[r],e)),{})}function bt(...e){const t=xe(e),n=ye(e),{args:r,keys:s}=ft(e);if(0===r.length)return Ve([],t);const o=new C(pt(r,t,s?e=>dt(s,e):I));return n?o.pipe(it(n)):o}function pt(e,t,n=I){return r=>{mt(t,(()=>{const{length:s}=e,o=new Array(s);let i=s,c=s;for(let u=0;u<s;u++)mt(t,(()=>{const s=Ve(e[u],t);let l=!1;s.subscribe(q(r,(e=>{o[u]=e,l||(l=!0,c--),c||r.next(n(o.slice()))}),(()=>{--i||r.complete()})))}),r)}),r)}}function mt(e,t,n){e?ze(n,e,t):t()}function vt(e,t,n,r,s,o,i,c){const u=[];let l=0,a=0,h=!1;const f=()=>{!h||u.length||l||t.complete()},d=e=>l<r?b(e):u.push(e),b=e=>{o&&t.next(e),l++;let c=!1;Le(n(e,a++)).subscribe(q(t,(e=>{null==s||s(e),o?d(e):t.next(e)}),(()=>{c=!0}),void 0,(()=>{if(c)try{for(l--;u.length&&l<r;){const e=u.shift();i?ze(t,i,(()=>b(e))):b(e)}f()}catch(e){t.error(e)}})))};return e.subscribe(q(t,d,(()=>{h=!0,f()}))),()=>{null==c||c()}}function wt(e,n,r=1/0){return t(n)?wt(((t,r)=>st(((e,s)=>n(t,e,r,s)))(Le(e(t,r)))),r):("number"==typeof n&&(r=n),F(((t,n)=>vt(t,n,e,r))))}function yt(e=1/0){return wt(I,e)}function xt(){return yt(1)}function gt(...e){return xt()(Ve(e,xe(e)))}function _t(e){return new C((t=>{Le(e()).subscribe(t)}))}const St={connector:()=>new V,resetOnDisconnect:!0};const Et=["addListener","removeListener"],Ot=["addEventListener","removeEventListener"],Tt=["on","off"];function At(e,t){return n=>r=>e[n](t,r)}function It(e=0,t,n=he){let r=-1;return null!=t&&(ve(t)?n=t:r=t),new C((t=>{let s=et(e)?+e-n.now():e;s<0&&(s=0);let o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())}),s)}))}function kt(e=0,t=ae){return e<0&&(e=0),It(e,e,t)}const jt=e("al",new C(f));const{isArray:Ct}=Array;function Pt(e){return 1===e.length&&Ct(e[0])?e[0]:e}function Nt(...e){const t=Pt(e);return new C((e=>{let n=0;const r=()=>{if(n<t.length){let s;try{s=Le(t[n++])}catch(e){return void r()}const o=new L(e,void 0,f,f);s.subscribe(o),o.add(r)}else e.complete()};r()}))}function Ft(e,t){return(n,r)=>!e.call(t,n,r)}function qt(e,t){return F(((n,r)=>{let s=0;n.subscribe(q(r,(n=>e.call(t,n,s++)&&r.next(n))))}))}function Lt(e){return t=>{let n=[];for(let r=0;n&&!t.closed&&r<e.length;r++)n.push(Le(e[r]).subscribe(q(t,(e=>{if(n){for(let e=0;e<n.length;e++)e!==r&&n[e].unsubscribe();n=null}t.next(e)}))))}}function Rt(...e){const t=ye(e),n=Pt(e);return n.length?new C((e=>{let r=n.map((()=>[])),s=n.map((()=>!1));e.add((()=>{r=s=null}));for(let o=0;!e.closed&&o<n.length;o++)Le(n[o]).subscribe(q(e,(n=>{if(r[o].push(n),r.every((e=>e.length))){const n=r.map((e=>e.shift()));e.next(t?t(...n):n),r.some(((e,t)=>!e.length&&s[t]))&&e.complete()}}),(()=>{s[o]=!0,!r[o].length&&e.complete()})));return()=>{r=s=null}})):me}function zt(e){return F(((t,n)=>{let r=!1,s=null,o=null,i=!1;const c=()=>{if(null==o||o.unsubscribe(),o=null,r){r=!1;const e=s;s=null,n.next(e)}i&&n.complete()},u=()=>{o=null,i&&n.complete()};t.subscribe(q(n,(t=>{r=!0,s=t,o||Le(e(t)).subscribe(o=q(n,c,u))}),(()=>{i=!0,(!r||!o||o.closed)&&n.complete()})))}))}function Ut(e,t,n,r,s){return(o,i)=>{let c=n,u=t,l=0;o.subscribe(q(i,(t=>{const n=l++;u=c?e(u,t,n):(c=!0,t),r&&i.next(u)}),s&&(()=>{c&&i.next(u),i.complete()})))}}function Dt(e,t){return F(Ut(e,t,arguments.length>=2,!1,!0))}const Ht=(e,t)=>(e.push(t),e);function Wt(){return F(((e,t)=>{Dt(Ht,[])(e).subscribe(t)}))}function Mt(e,t){return k(Wt(),wt((t=>e(t))),t?it(t):I)}function Vt(e){return Mt(bt,e)}e("av",Vt);function $t(...e){const t=ye(e);return t?k($t(...e),it(t)):F(((t,n)=>{pt([t,...Pt(e)])(n)}))}function Bt(e,n){return t(n)?wt(e,n,1):wt(e,1)}function Xt(...e){const t=xe(e);return F(((n,r)=>{xt()(Ve([n,...e],t)).subscribe(r)}))}const Yt={connector:()=>new V};function Jt(e,t=Yt){const{connector:n}=t;return F(((t,r)=>{const s=n();var o;Le(e((o=s,new C((e=>o.subscribe(e)))))).subscribe(r),r.add(t.subscribe(s))}))}function Gt(e){return F(((t,n)=>{let r=!1;t.subscribe(q(n,(e=>{r=!0,n.next(e)}),(()=>{r||n.next(e),n.complete()})))}))}function Zt(e){return e<=0?()=>me:F(((t,n)=>{let r=0;t.subscribe(q(n,(t=>{++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function Kt(){return F(((e,t)=>{e.subscribe(q(t,f))}))}function Qt(e){return st((()=>e))}function en(e,t){return t?n=>gt(t.pipe(Zt(1),Kt()),n.pipe(en(e))):wt(((t,n)=>Le(e(t,n)).pipe(Zt(1),Qt(t))))}function tn(e,t=I){return e=null!=e?e:nn,F(((n,r)=>{let s,o=!0;n.subscribe(q(r,(n=>{const i=t(n);!o&&e(s,i)||(o=!1,s=i,r.next(n))})))}))}function nn(e,t){return e===t}function rn(e=sn){return F(((t,n)=>{let r=!1;t.subscribe(q(n,(e=>{r=!0,n.next(e)}),(()=>r?n.complete():n.error(e()))))}))}function sn(){return new Ge}function on(e,t){return t?n=>n.pipe(on(((n,r)=>Le(e(n,r)).pipe(st(((e,s)=>t(n,e,r,s))))))):F(((t,n)=>{let r=0,s=null,o=!1;t.subscribe(q(n,(t=>{s||(s=q(n,void 0,(()=>{s=null,o&&n.complete()})),Le(e(t,r++)).subscribe(s))}),(()=>{o=!0,!s&&n.complete()})))}))}function cn(){return on(I)}e("aQ",cn);function un(e,t,n){const r="index"===n;return(n,s)=>{let o=0;n.subscribe(q(s,(i=>{const c=o++;e.call(t,i,c,n)&&(s.next(r?c:i),s.complete())}),(()=>{s.next(r?-1:void 0),s.complete()})))}}function ln(e){return e<=0?()=>me:F(((t,n)=>{let r=[];t.subscribe(q(n,(t=>{r.push(t),e<r.length&&r.shift()}),(()=>{for(const e of r)n.next(e);n.complete()}),void 0,(()=>{r=null})))}))}e("b6",wt);function an(...e){const t=xe(e),n=ge(e,1/0);return e=Pt(e),F(((r,s)=>{yt(n)(Ve([r,...e],t)).subscribe(s)}))}function hn(e,n){const r=t(e)?e:()=>e;return t(n)?Jt(n,{connector:r}):e=>new z(e,r)}function fn(...e){const t=Pt(e);return e=>Nt(e,...t)}e("c5",fn);function dn(...e){return e.length?F(((t,n)=>{Lt([t,...e])(n)})):I}function bn(e){return F(((t,n)=>{let r=!1,s=null;t.subscribe(q(n,(e=>{r=!0,s=e}))),Le(e).subscribe(q(n,(()=>{if(r){r=!1;const e=s;s=null,n.next(e)}}),f))}))}function pn(e={}){const{connector:t=(()=>new V),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return e=>{let o,i,c,u=0,l=!1,a=!1;const h=()=>{null==i||i.unsubscribe(),i=void 0},f=()=>{h(),o=c=void 0,l=a=!1},d=()=>{const e=o;f(),null==e||e.unsubscribe()};return F(((e,b)=>{u++,a||l||h();const p=c=null!=c?c:t();b.add((()=>{u--,0!==u||a||l||(i=mn(d,s))})),p.subscribe(b),!o&&u>0&&(o=new S({next:e=>p.next(e),error:e=>{a=!0,h(),i=mn(f,n,e),p.error(e)},complete:()=>{l=!0,h(),i=mn(f,r),p.complete()}}),Le(e).subscribe(o))}))(e)}}function mn(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new S({next:()=>{r.unsubscribe(),e()}});return Le(t(...n)).subscribe(r)}function vn(e,t){return F(((n,r)=>{let s=null,o=0,i=!1;const c=()=>i&&!s&&r.complete();n.subscribe(q(r,(n=>{null==s||s.unsubscribe();let i=0;const u=o++;Le(e(n,u)).subscribe(s=q(r,(e=>r.next(t?t(n,e,u,i++):e)),(()=>{s=null,c()})))}),(()=>{i=!0,c()})))}))}const wn={leading:!0,trailing:!1};function yn(e,t=wn){return F(((n,r)=>{const{leading:s,trailing:o}=t;let i=!1,c=null,u=null,l=!1;const a=()=>{null==u||u.unsubscribe(),u=null,o&&(d(),l&&r.complete())},h=()=>{u=null,l&&r.complete()},f=t=>u=Le(e(t)).subscribe(q(r,a,h)),d=()=>{if(i){i=!1;const e=c;c=null,r.next(e),!l&&f(e)}};n.subscribe(q(r,(e=>{i=!0,c=e,(!u||u.closed)&&(s?d():f(e))}),(()=>{l=!0,(!(o&&i&&u)||u.closed)&&r.complete()})))}))}class xn{constructor(e,t){this.value=e,this.interval=t}}function gn(...e){return F(((t,n)=>{Rt(t,...e).subscribe(n)}))}function _n(e){switch(e.responseType){case"json":if("response"in e)return e.response;{const t=e;return JSON.parse(t.responseText)}case"document":return e.responseXML;case"text":default:if("response"in e)return e.response;return e.responseText}}class Sn{constructor(e,t,n,r="download_load"){this.originalEvent=e,this.xhr=t,this.request=n,this.type=r;const{status:s,responseType:o}=t;this.status=null!=s?s:0,this.responseType=null!=o?o:"";const i=t.getAllResponseHeaders();this.responseHeaders=i?i.split("\n").reduce(((e,t)=>{const n=t.indexOf(": ");return e[t.slice(0,n)]=t.slice(n+2),e}),{}):{},this.response=_n(t);const{loaded:c,total:u}=e;this.loaded=c,this.total=u}}e("cc",Sn);const En=e("ca",n((e=>function(e,t,n){let r;this.message=e,this.name="AjaxError",this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType;try{r=_n(t)}catch(e){r=t.responseText}this.response=r}))),On=e("cb",(()=>{function e(e,t){return En.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this}return e.prototype=Object.create(En.prototype),e})());function Tn(e,t){return Nn({method:"GET",url:e,headers:t})}function An(e,t,n){return Nn({method:"POST",url:e,body:t,headers:n})}function In(e,t){return Nn({method:"DELETE",url:e,headers:t})}function kn(e,t,n){return Nn({method:"PUT",url:e,body:t,headers:n})}function jn(e,t,n){return Nn({method:"PATCH",url:e,body:t,headers:n})}const Cn=st((e=>e.response));function Pn(e,t){return Cn(Nn({method:"GET",url:e,headers:t}))}const Nn=e("c9",(()=>{const e=e=>{return t="string"==typeof e?{url:e}:e,new C((e=>{var n,r;const s=Object.assign({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},t),{queryParams:o,body:i,headers:c}=s;let u=s.url;if(!u)throw new TypeError("url is required");if(o){let e;if(u.includes("?")){const t=u.split("?");if(2<t.length)throw new TypeError("invalid url");e=new URLSearchParams(t[1]),new URLSearchParams(o).forEach(((t,n)=>e.set(n,t))),u=t[0]+"?"+e}else e=new URLSearchParams(o),u=u+"?"+e}const l={};if(c)for(const e in c)c.hasOwnProperty(e)&&(l[e.toLowerCase()]=c[e]);const a=s.crossDomain;a||"x-requested-with"in l||(l["x-requested-with"]="XMLHttpRequest");const{withCredentials:h,xsrfCookieName:f,xsrfHeaderName:d}=s;if((h||!a)&&f&&d){const e=null!==(r=null===(n=null===document||void 0===document?void 0:document.cookie.match(new RegExp(`(^|;\\s*)(${f})=([^;]*)`)))||void 0===n?void 0:n.pop())&&void 0!==r?r:"";e&&(l[d]=e)}const b=function(e,t){var n;if(!e||"string"==typeof e||function(e){return"undefined"!=typeof FormData&&e instanceof FormData}(e)||function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(e)||function(e){return Dn(e,"ArrayBuffer")}(e)||function(e){return Dn(e,"File")}(e)||function(e){return Dn(e,"Blob")}(e)||function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream}(e))return e;if(function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)}(e))return e.buffer;if("object"==typeof e)return t["content-type"]=null!==(n=t["content-type"])&&void 0!==n?n:"application/json;charset=utf-8",JSON.stringify(e);throw new TypeError("Unknown body type")}(i,l),p=Object.assign(Object.assign({},s),{url:u,headers:l,body:b});let m;m=t.createXHR?t.createXHR():new XMLHttpRequest;{const{progressSubscriber:n,includeDownloadProgress:r=!1,includeUploadProgress:s=!1}=t,o=(t,r)=>{m.addEventListener(t,(()=>{var t;const s=r();null===(t=null==n?void 0:n.error)||void 0===t||t.call(n,s),e.error(s)}))};o("timeout",(()=>new On(m,p))),o("abort",(()=>new En("aborted",m,p)));const i=(e,t)=>new Sn(t,m,p,`${e}_${t.type}`),c=(t,n,r)=>{t.addEventListener(n,(t=>{e.next(i(r,t))}))};s&&[Ln,Rn,zn].forEach((e=>c(m.upload,e,Fn))),n&&[Ln,Rn].forEach((e=>m.upload.addEventListener(e,(e=>{var t;return null===(t=null==n?void 0:n.next)||void 0===t?void 0:t.call(n,e)})))),r&&[Ln,Rn].forEach((e=>c(m,e,qn)));const u=t=>{const n="ajax error"+(t?" "+t:"");e.error(new En(n,m,p))};m.addEventListener("error",(e=>{var t;null===(t=null==n?void 0:n.error)||void 0===t||t.call(n,e),u()})),m.addEventListener(zn,(t=>{var r,s;const{status:o}=m;if(o<400){let s;null===(r=null==n?void 0:n.complete)||void 0===r||r.call(n);try{s=i(qn,t)}catch(t){return void e.error(t)}e.next(s),e.complete()}else null===(s=null==n?void 0:n.error)||void 0===s||s.call(n,t),u(o)}))}const{user:v,method:w,async:y}=p;v?m.open(w,u,y,v,p.password):m.open(w,u,y),y&&(m.timeout=p.timeout,m.responseType=p.responseType),"withCredentials"in m&&(m.withCredentials=p.withCredentials);for(const e in l)l.hasOwnProperty(e)&&m.setRequestHeader(e,l[e]);return b?m.send(b):m.send(),()=>{m&&4!==m.readyState&&m.abort()}}));var t};return e.get=Tn,e.post=An,e.delete=In,e.put=kn,e.patch=jn,e.getJSON=Pn,e})()),Fn="upload",qn="download",Ln="loadstart",Rn="progress",zn="load";const Un=Object.prototype.toString;function Dn(e,t){return Un.call(e)===`[object ${t}]`}const Hn={url:"",deserializer:e=>JSON.parse(e.data),serializer:e=>JSON.stringify(e)};class Wn extends ${constructor(e,t){if(super(),this._socket=null,e instanceof C)this.destination=t,this.source=e;else{const t=this._config=Object.assign({},Hn);if(this._output=new V,"string"==typeof e)t.url=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(!t.WebSocketCtor&&WebSocket)t.WebSocketCtor=WebSocket;else if(!t.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new Y}}lift(e){const t=new Wn(this._config,this.destination);return t.operator=e,t.source=this,t}_resetState(){this._socket=null,this.source||(this.destination=new Y),this._output=new V}multiplex(e,t,n){const r=this;return new C((s=>{try{r.next(e())}catch(e){s.error(e)}const o=r.subscribe({next:e=>{try{n(e)&&s.next(e)}catch(e){s.error(e)}},error:e=>s.error(e),complete:()=>s.complete()});return()=>{try{r.next(t())}catch(e){s.error(e)}o.unsubscribe()}}))}_connectSocket(){const{WebSocketCtor:e,protocol:t,url:n,binaryType:r}=this._config,s=this._output;let i=null;try{i=t?new e(n,t):new e(n),this._socket=i,r&&(this._socket.binaryType=r)}catch(e){return void s.error(e)}const c=new o((()=>{this._socket=null,i&&1===i.readyState&&i.close()}));i.onopen=e=>{const{_socket:t}=this;if(!t)return i.close(),void this._resetState();const{openObserver:n}=this._config;n&&n.next(e);const r=this.destination;this.destination=y.create((e=>{if(1===i.readyState)try{const{serializer:t}=this._config;i.send(t(e))}catch(e){this.destination.error(e)}}),(e=>{const{closingObserver:t}=this._config;t&&t.next(void 0),e&&e.code?i.close(e.code,e.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()}),(()=>{const{closingObserver:e}=this._config;e&&e.next(void 0),i.close(),this._resetState()})),r&&r instanceof Y&&c.add(r.subscribe(this.destination))},i.onerror=e=>{this._resetState(),s.error(e)},i.onclose=e=>{i===this._socket&&this._resetState();const{closeObserver:t}=this._config;t&&t.next(e),e.wasClean?s.complete():s.error(e)},i.onmessage=e=>{try{const{deserializer:t}=this._config;s.next(t(e))}catch(e){s.error(e)}}}_subscribe(e){const{source:t}=this;return t?t.subscribe(e):(this._socket||this._connectSocket(),this._output.subscribe(e),e.add((()=>{const{_socket:e}=this;0===this._output.observers.length&&(!e||1!==e.readyState&&0!==e.readyState||e.close(),this._resetState())})),e)}unsubscribe(){const{_socket:e}=this;!e||1!==e.readyState&&0!==e.readyState||e.close(),this._resetState(),super.unsubscribe()}}e("cf",Wn)}}}));
